## 问题场景

- Mac 本地按照 `./setup.sh` 与 `./start.sh` 启动项目。
- 登录后台后，点击 “系统管理 → 日志管理 → 操作日志” 或直接访问 `http://localhost/system/log/operlog`，页面始终跳转到 404。
- 工程管理菜单中的 “操作日志” 可以正常进入，只有系统管理下面的日志页失效。

## 原因分析

1. `sys_menu` 表中存在两条 `path=operlog` 的菜单：  
   - `menu_id=500`：系统管理 → 日志管理 → 操作日志。  
   - `menu_id=119`：工程管理 → 操作日志（通过 `update_project_menu.sql` 插入）。  
2. 两条菜单都没有显式设置 `route_name`。前端在转换动态路由时，会使用 `path` 作为 name（`Operlog`），导致生成的两个路由重名。  
3. Vue Router 要求路由 name 唯一。同名路由注册时，后者会覆盖前者，结果是：只剩下工程管理的操作日志能访问，而系统管理的路由被覆盖后访问 404。

## 解决方案

1. **为工程管理的操作日志补充唯一的 `route_name`**  
   ```sql
   UPDATE sys_menu
   SET route_name = 'projectOperLog'
   WHERE menu_id = 119;
   ```
   你也可以直接重新执行已修复的 `ruoyi-fastapi-backend/sql/update_project_menu.sql`，其中已内置该字段。
2. **执行脚本后重启 / 刷新前端**  
   - `./start.sh` 运行中，按 `Ctrl+C` 停止，再重新执行 `./start.sh`。  
   - 浏览器端退出登录或清空本地缓存，让前端重新获取路由。  
3. **再次访问**  
   - 点击 “系统管理 → 日志管理 → 操作日志” 或访问 `http://localhost/system/log/operlog`，页面即可恢复正常；工程管理下的操作日志仍可正常使用。

> 补充：如果之前执行了临时修复脚本（例如 `fix_admin_log_menu.sql`、`fix_project_operlog_route_name.sql`），在数据库确认权限与 `route_name` 已正确写入后，可以删除这些脚本，避免仓库中出现冗余的临时 SQL。
