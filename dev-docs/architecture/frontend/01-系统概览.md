# 前端系统概览

## 简介

RuoYi-Vue3-FastAPI 前端基于 Vue 3 + TypeScript + Vite 构建,采用组合式 API (Composition API) 和现代化的前端开发模式。

## 核心架构特点

### 1. Vue 3 组合式 API
使用 `<script setup>` 语法,提供更好的类型推导和代码组织。

### 2. TypeScript
全面使用 TypeScript,提供类型安全和更好的开发体验。

### 3. 组件化开发
UI 组件化、业务组件化,提高代码复用性。

### 4. 状态管理
使用 Pinia 进行集中式状态管理。

## 技术栈

### 核心框架
- **Vue 3.4.27**: 渐进式 JavaScript 框架
- **TypeScript 5.4.5**: JavaScript 的超集
- **Vite 5.3.2**: 下一代前端构建工具

### UI 组件库
- **Element Plus 2.7.6**: Vue 3 组件库
- **Tailwind CSS 4.1.12**: 原子化 CSS 框架
- **@element-plus/icons-vue**: Element Plus 图标库

### 状态管理与路由
- **Pinia 2.1.7**: Vue 3 状态管理
- **Vue Router 4.4.0**: 官方路由管理器

### HTTP 请求
- **Axios 0.28.1**: HTTP 客户端

### 工具库
- **js-cookie**: Cookie 操作
- **nprogress**: 页面加载进度条
- **echarts**: 数据可视化
- **jsencrypt**: RSA 加密

### 开发工具
- **Vitest**: 单元测试框架
- **ESLint**: 代码检查
- **Prettier**: 代码格式化

## 项目结构

```
ruoyi-fastapi-frontend/
├── index.html                # HTML 入口
├── package.json             # 项目依赖
├── vite.config.ts           # Vite 配置
├── tsconfig.json            # TypeScript 配置
├── tailwind.config.ts       # Tailwind 配置
│
├── public/                  # 静态资源
│   ├── favicon.ico
│   └── logo.png
│
├── src/
│   ├── main.ts              # 应用入口
│   ├── App.tsx              # 根组件
│   ├── settings.ts          # 应用配置
│   ├── permission.ts        # 路由权限守卫
│   │
│   ├── api/                 # API 接口层
│   │   ├── system/          # 系统模块 API
│   │   │   ├── user.js
│   │   │   ├── role.js
│   │   │   ├── menu.js
│   │   │   └── dept.js
│   │   ├── monitor/         # 监控模块 API
│   │   ├── project/         # 项目模块 API
│   │   ├── protocol/        # 协议模块 API
│   │   └── login.js         # 登录 API
│   │
│   ├── assets/              # 资源文件
│   │   ├── styles/          # 样式文件
│   │   ├── images/          # 图片
│   │   └── icons/           # 图标
│   │
│   ├── components/          # 公共组件
│   │   ├── business/        # 业务组件
│   │   │   ├── Protocol/   # 协议组件
│   │   │   └── ...
│   │   ├── ContentDetailWrap/  # 内容包装组件
│   │   ├── DictTag/         # 字典标签
│   │   ├── Editor/          # 富文本编辑器
│   │   ├── FileUpload/      # 文件上传
│   │   ├── ImageUpload/     # 图片上传
│   │   ├── Pagination/      # 分页组件
│   │   └── ...
│   │
│   ├── views/               # 页面组件
│   │   ├── system/          # 系统管理页面
│   │   │   ├── user/
│   │   │   ├── role/
│   │   │   ├── menu/
│   │   │   └── dept/
│   │   ├── monitor/         # 系统监控页面
│   │   ├── project/         # 项目管理页面
│   │   ├── protocol/        # 协议管理页面
│   │   ├── device/          # 设备管理页面
│   │   ├── login.vue        # 登录页
│   │   └── index.vue        # 首页
│   │
│   ├── layout/              # 布局组件
│   │   ├── index.vue        # 主布局
│   │   ├── components/      # 布局子组件
│   │   │   ├── Navbar.vue
│   │   │   ├── Sidebar.vue
│   │   │   ├── TagsView.vue
│   │   │   └── AppMain.vue
│   │   └── ...
│   │
│   ├── router/              # 路由配置
│   │   ├── index.ts         # 路由主文件
│   │   └── modules/         # 路由模块
│   │
│   ├── store/               # Pinia 状态管理
│   │   ├── index.ts
│   │   └── modules/         # Store 模块
│   │       ├── user.ts      # 用户状态
│   │       ├── app.ts       # 应用状态
│   │       ├── permission.ts # 权限状态
│   │       ├── settings.ts  # 设置状态
│   │       └── tagsView.ts  # 标签页状态
│   │
│   ├── utils/               # 工具函数
│   │   ├── request.ts       # Axios 封装
│   │   ├── auth.ts          # 认证工具
│   │   ├── permission.ts    # 权限工具
│   │   ├── validate.ts      # 表单验证
│   │   ├── dict.ts          # 字典工具
│   │   └── ...
│   │
│   ├── directive/           # 自定义指令
│   │   ├── permission/      # 权限指令
│   │   ├── dialog/          # 对话框拖拽
│   │   └── ...
│   │
│   ├── plugins/             # 插件
│   │   ├── modal.ts         # 模态框插件
│   │   ├── download.ts      # 下载插件
│   │   └── cache.ts         # 缓存插件
│   │
│   └── types/               # TypeScript 类型定义
│       ├── api.d.ts
│       ├── store.d.ts
│       └── ...
│
├── tests/                   # 测试文件
│   └── unit/
│
└── vite/                    # Vite 插件配置
    └── plugins/
```

## 核心功能

### 1. 用户认证
- 登录/登出
- Token 管理
- 权限验证
- 路由守卫

### 2. 权限系统
- 菜单权限
- 按钮权限
- 数据权限
- 角色管理

### 3. 动态路由
- 根据权限动态生成路由
- 菜单动态渲染
- 面包屑导航

### 4. 多标签页
- 标签页管理
- 标签页缓存
- 右键菜单

### 5. 主题定制
- 主题色切换
- 布局模式切换
- 暗黑模式

### 6. 国际化
- 多语言支持
- 语言切换

## 页面流程

```
1. 用户访问
   ↓
2. 路由守卫 (permission.ts)
   - 检查 Token
   - 验证权限
   ↓
3. 加载用户信息
   - 获取用户信息
   - 获取权限菜单
   ↓
4. 生成动态路由
   - 根据权限生成路由
   - 注册路由
   ↓
5. 渲染页面
   - 渲染布局
   - 渲染菜单
   - 渲染内容
   ↓
6. 用户操作
   - 调用 API
   - 更新状态
   - 刷新视图
```

## 开发命令

```bash
# 进入前端目录
cd ruoyi-fastapi-frontend

# 安装依赖
yarn install  # 或 npm install

# 开发服务器
yarn dev      # 或 npm run dev
# 访问: http://localhost:80

# 构建生产环境
yarn build:prod  # 或 npm run build:prod

# 构建预发布环境
yarn build:stage # 或 npm run build:stage

# 类型检查
yarn type-check  # 或 npm run type-check

# 代码检查
yarn lint        # 或 npm run lint

# 单元测试
yarn test        # 或 npm run test
```

## 环境配置

### 开发环境 (.env.development)
```ini
# 应用标题
VITE_APP_TITLE = RuoYi管理系统

# 开发环境配置
VITE_APP_ENV = development

# API 基础路径
VITE_APP_BASE_API = /dev-api

# 后端接口地址
VITE_APP_API_URL = http://localhost:8000
```

### 生产环境 (.env.production)
```ini
# 应用标题
VITE_APP_TITLE = RuoYi管理系统

# 生产环境配置
VITE_APP_ENV = production

# API 基础路径
VITE_APP_BASE_API = /prod-api

# 后端接口地址
VITE_APP_API_URL = https://api.example.com
```

## 浏览器支持

- Chrome >= 87
- Firefox >= 78
- Safari >= 14
- Edge >= 88

## 下一步

- [组件架构](./02-组件架构.md) - 了解组件开发模式
- [状态管理](./03-状态管理.md) - 学习 Pinia 使用
- [路由设计](./04-路由设计.md) - 理解路由配置
- [API集成](./05-API集成.md) - 掌握 API 调用
- [权限系统](./06-权限系统.md) - 理解权限控制
- [开发规范](./07-开发规范.md) - 编码标准
